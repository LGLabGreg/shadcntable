{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "data-table",
  "type": "registry:block",
  "title": "Data Table",
  "description": "Data Table",
  "dependencies": ["@tanstack/react-table", "date-fns", "lucide-react"],
  "registryDependencies": [
    "badge",
    "button",
    "calendar",
    "checkbox",
    "command",
    "dropdown-menu",
    "empty",
    "input",
    "popover",
    "select",
    "table"
  ],
  "files": [
    {
      "path": "registry/components/shadcntable/data-table-body.tsx",
      "content": "import { type Table, flexRender } from '@tanstack/react-table'\nimport { Box } from 'lucide-react'\n\nimport { Empty, EmptyHeader, EmptyMedia, EmptyTitle } from '@/components/ui/empty'\nimport { TableCell, TableRow } from '@/components/ui/table'\nimport { TableBody } from '@/components/ui/table'\n\nimport { useDataTableLocale } from './contexts/data-table-locale-context'\n\nexport interface DataTableBodyProps<TData> {\n  emptyState?: React.ReactNode\n  isLoading?: boolean\n  onRowClick?: (row: TData) => void\n  table: Table<TData>\n}\nexport function DataTableBody<TData>({\n  emptyState,\n  isLoading,\n  onRowClick,\n  table,\n}: DataTableBodyProps<TData>) {\n  'use no memo'\n  const locale = useDataTableLocale()\n  if (isLoading) {\n    return (\n      <TableBody>\n        {Array.from({ length: 5 }).map((_, i) => (\n          <TableRow key={i}>\n            {table.getAllColumns().map((_, j) => (\n              <TableCell key={j}>\n                <div className='h-4 bg-muted animate-pulse rounded' />\n              </TableCell>\n            ))}\n          </TableRow>\n        ))}\n      </TableBody>\n    )\n  }\n  const columns = table.getAllColumns()\n  return (\n    <TableBody>\n      {table.getRowModel().rows?.length ? (\n        table.getRowModel().rows.map((row) => (\n          <TableRow\n            key={row.id}\n            data-state={row.getIsSelected() && 'selected'}\n            onClick={() => onRowClick?.(row.original)}\n            className={onRowClick ? 'cursor-pointer' : undefined}\n          >\n            {row.getVisibleCells().map((cell) => (\n              <TableCell key={cell.id}>\n                {flexRender(cell.column.columnDef.cell, cell.getContext())}\n              </TableCell>\n            ))}\n          </TableRow>\n        ))\n      ) : (\n        <TableRow>\n          <TableCell colSpan={columns.length}>\n            {emptyState ?? (\n              <Empty>\n                <EmptyHeader>\n                  <EmptyMedia variant='icon'>\n                    <Box />\n                  </EmptyMedia>\n                  <EmptyTitle>{locale.body.noResults}</EmptyTitle>\n                </EmptyHeader>\n              </Empty>\n            )}\n          </TableCell>\n        </TableRow>\n      )}\n    </TableBody>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/data-table-column-filter.tsx",
      "content": "import { type Column } from '@tanstack/react-table'\n\nimport { DateRangeFilter } from './filters/date-range-filter'\nimport { MultiSelectFilter } from './filters/multi-select-filter'\nimport { NumberRangeFilter } from './filters/number-range-filter'\nimport { SelectFilter } from './filters/select-filter'\nimport { TextFilter } from './filters/text-filter'\nimport type { FilterComponentProps, FilterValue } from './types/filters'\n\ninterface DataTableColumnFilterProps<TData, TValue> {\n  column: Column<TData, TValue>\n}\n\nexport function DataTableColumnFilter<TData, TValue>({\n  column,\n}: DataTableColumnFilterProps<TData, TValue>) {\n  'use no memo'\n  const filterConfig = column.columnDef.meta?.filterConfig\n\n  if (!filterConfig) return null\n\n  const filterValue = column.getFilterValue() as FilterValue\n  const setFilterValue = (value: FilterValue) => column.setFilterValue(value)\n  const clearFilter = () => column.setFilterValue(undefined)\n\n  const commonProps: FilterComponentProps = {\n    config: filterConfig,\n    value: filterValue,\n    onChange: setFilterValue,\n    onClear: clearFilter,\n  }\n\n  switch (filterConfig.variant) {\n    case 'text':\n      return <TextFilter {...commonProps} />\n\n    case 'select':\n      return <SelectFilter {...commonProps} />\n\n    case 'multi-select':\n      return <MultiSelectFilter {...commonProps} />\n\n    case 'date-range':\n      return <DateRangeFilter {...commonProps} />\n\n    case 'number-range':\n      return <NumberRangeFilter {...commonProps} />\n\n    case 'custom':\n      const CustomComponent = filterConfig.component\n      return CustomComponent ? <CustomComponent {...commonProps} /> : null\n\n    default:\n      return null\n  }\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/data-table-column-header.tsx",
      "content": "import { type Column } from '@tanstack/react-table'\nimport { ArrowDown, ArrowUp, ChevronsUpDown, EyeOff, ListFilter } from 'lucide-react'\n\nimport { Button } from '@/components/ui/button'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\n\nimport { cn } from '@/lib/utils'\n\nimport { useDataTableLocale } from './contexts/data-table-locale-context'\nimport { DataTableColumnFilter } from './data-table-column-filter'\n\ninterface DataTableColumnHeaderProps<\n  TData,\n  TValue,\n> extends React.HTMLAttributes<HTMLDivElement> {\n  column: Column<TData, TValue>\n  title: string\n}\n\nexport function DataTableColumnHeader<TData, TValue>({\n  column,\n  title,\n}: DataTableColumnHeaderProps<TData, TValue>) {\n  'use no memo'\n  const filterConfig = column.columnDef.meta?.filterConfig\n  const hasActiveFilter = column.getFilterValue() !== undefined\n  const locale = useDataTableLocale()\n\n  if (!column.getCanSort() && !filterConfig) {\n    return <div>{title}</div>\n  }\n\n  const isSorted = column.getIsSorted()\n  const isSortedDesc = isSorted === 'desc'\n  const isSortedAsc = isSorted === 'asc'\n\n  return (\n    <div className='flex items-center space-x-2 justify-between'>\n      <span>{title}</span>\n      <div className='flex items-center space-x-0.1'>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button\n              variant='ghost'\n              size='icon-sm'\n              className='data-[state=open]:bg-accent'\n              aria-label={locale.columnHeader.sortMenuLabel}\n            >\n              {isSortedDesc ? (\n                <ArrowDown />\n              ) : isSortedAsc ? (\n                <ArrowUp />\n              ) : (\n                <ChevronsUpDown />\n              )}\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align='start'>\n            {!isSortedAsc && (\n              <DropdownMenuItem onClick={() => column.toggleSorting(false)}>\n                <ArrowUp />\n                {locale.columnHeader.sortAscending}\n              </DropdownMenuItem>\n            )}\n            {!isSortedDesc && (\n              <DropdownMenuItem onClick={() => column.toggleSorting(true)}>\n                <ArrowDown />\n                {locale.columnHeader.sortDescending}\n              </DropdownMenuItem>\n            )}\n            {isSorted && (\n              <DropdownMenuItem onClick={() => column.clearSorting()}>\n                <ChevronsUpDown />\n                {locale.columnHeader.clearSorting}\n              </DropdownMenuItem>\n            )}\n\n            <DropdownMenuSeparator />\n            <DropdownMenuItem onClick={() => column.toggleVisibility(false)}>\n              <EyeOff />\n              {locale.columnHeader.hideColumn}\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        {/* Filter popover */}\n        {filterConfig && (\n          <Popover>\n            <PopoverTrigger asChild>\n              <Button\n                variant='ghost'\n                size='icon-sm'\n                className={cn(hasActiveFilter && 'bg-accent text-accent-foreground')}\n                aria-label={locale.columnHeader.filterMenuLabel}\n              >\n                <ListFilter />\n              </Button>\n            </PopoverTrigger>\n            <PopoverContent className='w-80' align='start'>\n              <div className='space-y-4'>\n                {(filterConfig.title || filterConfig.description) && (\n                  <div className='space-y-2'>\n                    {filterConfig.title && (\n                      <h4 className='font-medium leading-none'>{filterConfig.title}</h4>\n                    )}\n                    {filterConfig.description && (\n                      <p className='text-sm text-muted-foreground'>\n                        {filterConfig.description}\n                      </p>\n                    )}\n                  </div>\n                )}\n                <DataTableColumnFilter column={column} />\n                {hasActiveFilter && (\n                  <Button\n                    variant='outline'\n                    size='sm'\n                    className='w-full'\n                    onClick={() => column.setFilterValue(undefined)}\n                  >\n                    {locale.columnHeader.clearFilter}\n                  </Button>\n                )}\n              </div>\n            </PopoverContent>\n          </Popover>\n        )}\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/data-table-header.tsx",
      "content": "import { type Table, flexRender } from '@tanstack/react-table'\n\nimport { TableHead, TableHeader, TableRow } from '@/components/ui/table'\n\ninterface DataTableHeaderProps<TData> {\n  table: Table<TData>\n}\nexport function DataTableHeader<TData>({ table }: DataTableHeaderProps<TData>) {\n  'use no memo'\n  return (\n    <TableHeader>\n      {table.getHeaderGroups().map((headerGroup) => (\n        <TableRow key={headerGroup.id}>\n          {headerGroup.headers.map((header) => {\n            return (\n              <TableHead key={header.id}>\n                {header.isPlaceholder\n                  ? null\n                  : flexRender(header.column.columnDef.header, header.getContext())}\n              </TableHead>\n            )\n          })}\n        </TableRow>\n      ))}\n    </TableHeader>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/data-table-pagination.tsx",
      "content": "import { type Table } from '@tanstack/react-table'\nimport { ChevronLeft, ChevronRight, ChevronsLeft, ChevronsRight } from 'lucide-react'\n\nimport { Button } from '@/components/ui/button'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\n\nimport { useDataTableLocale } from './contexts/data-table-locale-context'\n\nexport interface DataTablePaginationConfig {\n  enabled?: boolean\n  pageSize?: number\n  pageSizeOptions?: number[]\n}\n\ninterface DataTablePaginationProps<TData> {\n  config?: DataTablePaginationConfig\n  table: Table<TData>\n}\n\nexport function DataTablePagination<TData>({\n  config,\n  table,\n}: DataTablePaginationProps<TData>) {\n  'use no memo'\n  const { enabled = true, pageSizeOptions = [10, 25, 50] } = config ?? {}\n  const locale = useDataTableLocale()\n\n  if (!enabled) return null\n\n  return (\n    <div className='flex items-center justify-between px-2'>\n      <div className='text-muted-foreground flex-1 text-sm'>\n        {table.getFilteredSelectedRowModel().rows.length} of{' '}\n        {table.getFilteredRowModel().rows.length} {locale.pagination.rowsSelected}\n      </div>\n      <div className='flex items-center space-x-4'>\n        <div className='flex items-center space-x-2'>\n          <p className='text-sm font-medium'>{locale.pagination.rowsPerPage}</p>\n          <Select\n            value={`${table.getState().pagination.pageSize}`}\n            onValueChange={(value) => {\n              table.setPageSize(Number(value))\n            }}\n          >\n            <SelectTrigger className='h-8 w-[70px]'>\n              <SelectValue placeholder={table.getState().pagination.pageSize} />\n            </SelectTrigger>\n            <SelectContent side='top'>\n              {pageSizeOptions.map((pageSize) => (\n                <SelectItem key={pageSize} value={`${pageSize}`}>\n                  {pageSize}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n        <div className='flex w-[100px] items-center justify-center text-sm font-medium'>\n          {locale.pagination.page} {table.getState().pagination.pageIndex + 1}{' '}\n          {locale.pagination.of} {table.getPageCount()}\n        </div>\n        <div className='flex items-center space-x-2'>\n          <Button\n            variant='outline'\n            size='icon'\n            className='hidden size-8 lg:flex'\n            onClick={() => table.setPageIndex(0)}\n            disabled={!table.getCanPreviousPage()}\n          >\n            <span className='sr-only'>{locale.pagination.goToFirstPage}</span>\n            <ChevronsLeft />\n          </Button>\n          <Button\n            variant='outline'\n            size='icon'\n            className='size-8'\n            onClick={() => table.previousPage()}\n            disabled={!table.getCanPreviousPage()}\n          >\n            <span className='sr-only'>{locale.pagination.goToPreviousPage}</span>\n            <ChevronLeft />\n          </Button>\n          <Button\n            variant='outline'\n            size='icon'\n            className='size-8'\n            onClick={() => table.nextPage()}\n            disabled={!table.getCanNextPage()}\n          >\n            <span className='sr-only'>{locale.pagination.goToNextPage}</span>\n            <ChevronRight />\n          </Button>\n          <Button\n            variant='outline'\n            size='icon'\n            className='hidden size-8 lg:flex'\n            onClick={() => table.setPageIndex(table.getPageCount() - 1)}\n            disabled={!table.getCanNextPage()}\n          >\n            <span className='sr-only'>{locale.pagination.goToLastPage}</span>\n            <ChevronsRight />\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/data-table-row-selection.tsx",
      "content": "import { type ColumnDef, type Row, type Table } from '@tanstack/react-table'\n\nimport { Checkbox } from '@/components/ui/checkbox'\n\nimport { useDataTableLocale } from './contexts/data-table-locale-context'\n\nexport interface DataTableRowSelectionConfig<TData> {\n  enableRowSelection?: boolean | ((row: Row<TData>) => boolean)\n  onRowSelectionChange?: (selectedRows: TData[]) => void\n}\n\nfunction RowSelectionHeader<TData>({ table }: { table: Table<TData> }) {\n  'use no memo'\n  const locale = useDataTableLocale()\n\n  return (\n    <div className='flex items-center justify-center px-2'>\n      <Checkbox\n        checked={\n          table.getIsAllPageRowsSelected() ||\n          (table.getIsSomePageRowsSelected() && 'indeterminate')\n        }\n        onCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}\n        aria-label={locale.rowSelection.selectAll}\n      />\n    </div>\n  )\n}\n\nfunction RowSelectionCell<TData>({ row }: { row: Row<TData> }) {\n  'use no memo'\n  const locale = useDataTableLocale()\n\n  return (\n    <div className='flex items-center justify-center px-2'>\n      <Checkbox\n        checked={row.getIsSelected()}\n        disabled={!row.getCanSelect()}\n        onCheckedChange={(value) => row.toggleSelected(!!value)}\n        aria-label={locale.rowSelection.selectRow}\n        onClick={(e) => e.stopPropagation()}\n      />\n    </div>\n  )\n}\n\nexport function createRowSelectionColumn<TData>(): ColumnDef<TData> {\n  return {\n    id: 'select',\n    header: ({ table }) => <RowSelectionHeader table={table} />,\n    cell: ({ row }) => <RowSelectionCell row={row} />,\n  }\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/data-table-toolbar.tsx",
      "content": "import { type Table } from '@tanstack/react-table'\n\nimport { Input } from '@/components/ui/input'\n\nimport { useDataTableLocale } from './contexts/data-table-locale-context'\nimport { DataTableViewOptions } from './data-table-view-options'\n\nexport interface DataTableToolbarConfig {\n  search?: boolean\n  viewOptions?: boolean\n}\n\ninterface DataTableToolbarProps<TData> {\n  config?: DataTableToolbarConfig\n  isLoading?: boolean\n  table: Table<TData>\n}\n\nexport function DataTableToolbar<TData>({\n  config,\n  isLoading,\n  table,\n}: DataTableToolbarProps<TData>) {\n  'use no memo'\n  const locale = useDataTableLocale()\n  const { search = true, viewOptions = true } = config ?? {}\n\n  return (\n    <div className='flex items-center'>\n      {search && (\n        <Input\n          disabled={isLoading}\n          placeholder={locale.toolbar.searchPlaceholder}\n          value={(table.getState().globalFilter as string) ?? ''}\n          onChange={(event) => table.setGlobalFilter(event.target.value)}\n          className='max-w-sm'\n        />\n      )}\n      {viewOptions && <DataTableViewOptions isLoading={isLoading} table={table} />}\n    </div>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/data-table-view-options.tsx",
      "content": "'use client'\n\nimport { DropdownMenuTrigger } from '@radix-ui/react-dropdown-menu'\nimport { type Table } from '@tanstack/react-table'\nimport { Settings2 } from 'lucide-react'\n\nimport { Button } from '@/components/ui/button'\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n} from '@/components/ui/dropdown-menu'\n\nimport { useDataTableLocale } from './contexts/data-table-locale-context'\n\ninterface DataTableViewOptionsProps<TData> {\n  isLoading?: boolean\n  table: Table<TData>\n}\n\nexport function DataTableViewOptions<TData>({\n  isLoading,\n  table,\n}: DataTableViewOptionsProps<TData>) {\n  'use no memo'\n  const locale = useDataTableLocale()\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger disabled={isLoading} asChild>\n        <Button variant='outline' size='sm' className='ml-auto hidden h-8 lg:flex'>\n          <Settings2 />\n          {locale.viewOptions.view}\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align='end' className='w-[150px]'>\n        <DropdownMenuLabel>{locale.viewOptions.toggleColumns}</DropdownMenuLabel>\n        <DropdownMenuSeparator />\n        {table\n          .getAllColumns()\n          .filter(\n            (column) => typeof column.accessorFn !== 'undefined' && column.getCanHide(),\n          )\n          .map((column) => {\n            return (\n              <DropdownMenuCheckboxItem\n                key={column.id}\n                className='capitalize'\n                checked={column.getIsVisible()}\n                onCheckedChange={(value) => column.toggleVisibility(!!value)}\n              >\n                {column.id}\n              </DropdownMenuCheckboxItem>\n            )\n          })}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/data-table.tsx",
      "content": "'use client'\n\nimport { type ColumnDef, type FilterFnOption } from '@tanstack/react-table'\nimport { useMemo } from 'react'\n\nimport { Table } from '@/components/ui/table'\n\nimport { defaultDataTableLocale } from './config/locale'\nimport { DataTableLocaleProvider } from './contexts/data-table-locale-context'\nimport { DataTableBody, type DataTableBodyProps } from './data-table-body'\nimport { DataTableHeader } from './data-table-header'\nimport {\n  DataTablePagination,\n  type DataTablePaginationConfig,\n} from './data-table-pagination'\nimport {\n  type DataTableRowSelectionConfig,\n  createRowSelectionColumn,\n} from './data-table-row-selection'\nimport { DataTableToolbar, type DataTableToolbarConfig } from './data-table-toolbar'\nimport { useShadcnTable } from './hooks/use-shadcn-table'\nimport { type DataTableLocale } from './types/locale'\n\ninterface DataTableProps<TData, TValue> {\n  columns: ColumnDef<TData, TValue>[]\n  data: TData[]\n  emptyState?: DataTableBodyProps<TData>['emptyState']\n  isLoading?: boolean\n  locale?: Partial<DataTableLocale>\n  onRowClick?: (row: TData) => void\n  pagination?: DataTablePaginationConfig\n  rowSelection?: DataTableRowSelectionConfig<TData>\n  toolbar?: DataTableToolbarConfig\n}\n\nexport function DataTable<TData, TValue>({\n  columns,\n  data,\n  emptyState,\n  isLoading,\n  locale,\n  onRowClick,\n  pagination,\n  rowSelection,\n  toolbar,\n}: DataTableProps<TData, TValue>) {\n  'use no memo'\n  const mergedLocale = useMemo(() => {\n    return {\n      body: { ...defaultDataTableLocale.body, ...locale?.body },\n      pagination: { ...defaultDataTableLocale.pagination, ...locale?.pagination },\n      toolbar: { ...defaultDataTableLocale.toolbar, ...locale?.toolbar },\n      viewOptions: { ...defaultDataTableLocale.viewOptions, ...locale?.viewOptions },\n      rowSelection: { ...defaultDataTableLocale.rowSelection, ...locale?.rowSelection },\n      columnHeader: { ...defaultDataTableLocale.columnHeader, ...locale?.columnHeader },\n      filters: {\n        multiSelect: {\n          ...defaultDataTableLocale.filters.multiSelect,\n          ...locale?.filters?.multiSelect,\n        },\n        numberRange: {\n          ...defaultDataTableLocale.filters.numberRange,\n          ...locale?.filters?.numberRange,\n        },\n      },\n    }\n  }, [locale])\n\n  const prepareColumns = useMemo(() => {\n    const tmpColumns = [...columns]\n    if (rowSelection) {\n      tmpColumns.unshift(createRowSelectionColumn<TData>())\n    }\n    return tmpColumns.map((column) => {\n      if (column.meta?.filterConfig?.variant === 'multi-select') {\n        return {\n          ...column,\n          filterFn: 'arrIncludesSome' as FilterFnOption<TData>,\n        }\n      } else if (column.meta?.filterConfig?.variant === 'select') {\n        return {\n          ...column,\n          filterFn: 'equals' as FilterFnOption<TData>,\n        }\n      }\n      return column\n    })\n  }, [columns, rowSelection])\n\n  const table = useShadcnTable({\n    data,\n    columns: prepareColumns,\n    pageSize: pagination?.pageSize,\n    rowSelectionConfig: rowSelection,\n  })\n\n  return (\n    <DataTableLocaleProvider locale={mergedLocale}>\n      <div className='space-y-4'>\n        <DataTableToolbar config={toolbar} isLoading={isLoading} table={table} />\n        <div className='overflow-hidden rounded-md border'>\n          <Table>\n            <DataTableHeader table={table} />\n            <DataTableBody\n              emptyState={emptyState}\n              isLoading={isLoading}\n              onRowClick={onRowClick}\n              table={table}\n            />\n          </Table>\n        </div>\n        <DataTablePagination config={pagination} table={table} />\n      </div>\n    </DataTableLocaleProvider>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/filters/date-range-filter.tsx",
      "content": "import { format } from 'date-fns'\nimport { CalendarIcon } from 'lucide-react'\nimport { useState } from 'react'\nimport { type DateRange } from 'react-day-picker'\n\nimport { Button } from '@/components/ui/button'\nimport { Calendar } from '@/components/ui/calendar'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\n\nimport { cn } from '@/lib/utils'\n\nimport type { FilterComponentProps } from '../types/filters'\n\nexport function DateRangeFilter({ value, onChange, config }: FilterComponentProps) {\n  const [dateRange, setDateRange] = useState<DateRange | undefined>(\n    value as DateRange | undefined,\n  )\n\n  return (\n    <Popover>\n      <PopoverTrigger asChild>\n        <Button\n          variant='outline'\n          size='sm'\n          className={cn(\n            'h-8 w-full justify-start text-left font-normal',\n            !dateRange && 'text-muted-foreground',\n          )}\n        >\n          <CalendarIcon className='mr-2 h-4 w-4' />\n          {dateRange?.from ? (\n            dateRange.to ? (\n              <>\n                {format(dateRange.from, 'LLL dd, y')} -{' '}\n                {format(dateRange.to, 'LLL dd, y')}\n              </>\n            ) : (\n              format(dateRange.from, 'LLL dd, y')\n            )\n          ) : (\n            <span>{config.placeholder}</span>\n          )}\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className='w-auto p-0' align='start'>\n        <Calendar\n          mode='range'\n          selected={dateRange}\n          onSelect={(range) => {\n            setDateRange(range)\n            onChange(range)\n          }}\n          numberOfMonths={2}\n        />\n      </PopoverContent>\n    </Popover>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/filters/multi-select-filter.tsx",
      "content": "import { Check, ChevronsUpDown } from 'lucide-react'\nimport { useMemo, useState } from 'react'\n\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from '@/components/ui/command'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\n\nimport { cn } from '@/lib/utils'\n\nimport { useDataTableLocale } from '../contexts/data-table-locale-context'\nimport type { FilterComponentProps } from '../types/filters'\n\nexport function MultiSelectFilter({ value, onChange, config }: FilterComponentProps) {\n  const locale = useDataTableLocale()\n  const [open, setOpen] = useState(false)\n\n  const options = config.options ?? []\n  const currentValue = useMemo(() => (Array.isArray(value) ? value : []), [value])\n  const selectedOptions = currentValue.map((v) =>\n    options.find((option) => option.value === v),\n  )\n\n  const handleSelect = (selectedValue: string) => {\n    const newValue = currentValue?.includes(selectedValue)\n      ? currentValue.filter((v) => v !== selectedValue)\n      : [...currentValue, selectedValue]\n    onChange(newValue)\n  }\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant='outline'\n          role='combobox'\n          aria-expanded={open}\n          className='w-full justify-between'\n        >\n          {selectedOptions?.length > 0 ? (\n            <div className='flex gap-1'>\n              <Badge variant='secondary'>{selectedOptions[0]?.label}</Badge>\n              {selectedOptions.slice(1).length > 0 && (\n                <Badge variant='secondary'>+{selectedOptions.slice(1).length}</Badge>\n              )}\n            </div>\n          ) : (\n            config.placeholder\n          )}\n          <ChevronsUpDown className='opacity-50' />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className='w-full p-0'>\n        <Command>\n          <CommandInput placeholder={locale.filters.multiSelect.search} className='h-9' />\n          <CommandList>\n            <CommandEmpty>{locale.filters.multiSelect.noResults}</CommandEmpty>\n            <CommandGroup>\n              {options.map((option) => (\n                <CommandItem\n                  key={option.value}\n                  value={option.value.toString()}\n                  onSelect={handleSelect}\n                >\n                  {option.label}\n                  <Check\n                    className={cn(\n                      'ml-auto',\n                      currentValue.includes(option.value.toString())\n                        ? 'opacity-100'\n                        : 'opacity-0',\n                    )}\n                  />\n                </CommandItem>\n              ))}\n            </CommandGroup>\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/filters/number-range-filter.tsx",
      "content": "import { Input } from '@/components/ui/input'\n\nimport { useDataTableLocale } from '../contexts/data-table-locale-context'\nimport type { FilterComponentProps } from '../types/filters'\n\nexport function NumberRangeFilter({ value, onChange }: FilterComponentProps) {\n  const [min, max] = (value ?? [undefined, undefined]) as [number?, number?]\n  const locale = useDataTableLocale()\n\n  return (\n    <div className='flex gap-2'>\n      <Input\n        type='number'\n        placeholder={locale.filters.numberRange.min}\n        value={min ?? ''}\n        onChange={(e) => {\n          const newMin = e.target.value ? Number(e.target.value) : undefined\n          onChange([newMin, max])\n        }}\n      />\n      <span className='flex items-center'>-</span>\n      <Input\n        type='number'\n        placeholder={locale.filters.numberRange.max}\n        value={max ?? ''}\n        onChange={(e) => {\n          const newMax = e.target.value ? Number(e.target.value) : undefined\n          onChange([min, newMax])\n        }}\n      />\n    </div>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/filters/select-filter.tsx",
      "content": "import { Select } from '@/components/ui/select'\nimport {\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\n\nimport type { FilterComponentProps } from '../types/filters'\n\nexport function SelectFilter({ value, onChange, config }: FilterComponentProps) {\n  return (\n    <Select onValueChange={(val) => onChange(val)} value={value?.toString() ?? ''}>\n      <SelectTrigger className='h-8 w-full'>\n        <SelectValue placeholder={config.placeholder} />\n      </SelectTrigger>\n      <SelectContent>\n        {config.options?.map((option) => (\n          <SelectItem key={option.value} value={String(option.value)}>\n            {option.label}\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </Select>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/filters/text-filter.tsx",
      "content": "// components/filters/text-filter.tsx\nimport { useEffect, useMemo, useState } from 'react'\n\nimport { Input } from '@/components/ui/input'\n\nimport { type FilterComponentProps } from '../types/filters'\nimport { debounce } from '../utils/debounce'\n\nexport function TextFilter({ value, onChange, config }: FilterComponentProps) {\n  const [localValue, setLocalValue] = useState(value ?? '')\n\n  const debouncedOnChange = useMemo(\n    () => debounce((val: string) => onChange(val), config.debounceMs),\n    [onChange, config.debounceMs],\n  )\n\n  useEffect(() => {\n    return () => debouncedOnChange.cancel()\n  }, [debouncedOnChange])\n\n  return (\n    <Input\n      placeholder={config.placeholder}\n      value={localValue?.toString() ?? ''}\n      onChange={(e) => {\n        setLocalValue(e.target.value)\n        debouncedOnChange(e.target.value)\n      }}\n      className='h-8 w-full'\n    />\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/types/locale.ts",
      "content": "export interface DataTableLocale {\n  body: {\n    noResults: string\n  }\n  pagination: {\n    rowsSelected: string\n    rowsPerPage: string\n    page: string\n    of: string\n    goToFirstPage: string\n    goToPreviousPage: string\n    goToNextPage: string\n    goToLastPage: string\n  }\n  toolbar: {\n    searchPlaceholder: string\n  }\n  viewOptions: {\n    view: string\n    toggleColumns: string\n  }\n  rowSelection: {\n    selectAll: string\n    selectRow: string\n  }\n  columnHeader: {\n    sortAscending: string\n    sortDescending: string\n    clearSorting: string\n    hideColumn: string\n    clearFilter: string\n    sortMenuLabel: string\n    filterMenuLabel: string\n  }\n  filters: {\n    multiSelect: {\n      search: string\n      noResults: string\n    }\n    numberRange: {\n      min: string\n      max: string\n    }\n  }\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/types/filters.ts",
      "content": "import { type DateRange } from 'react-day-picker'\n\ndeclare module '@tanstack/react-table' {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface ColumnMeta<TData, TValue> {\n    filterConfig?: FilterConfig\n    filterFn?: (row: TData, columnId: string, filterValue: FilterValue) => boolean\n  }\n}\n\nexport type FilterVariant =\n  | 'text' // Free text input\n  | 'select' // Dropdown single select\n  | 'multi-select' // Dropdown multi-select\n  | 'date-range' // Date range picker\n  | 'number-range' // Min/max number inputs\n  | 'custom' // Custom filter component\n\nexport interface FilterConfig {\n  title?: string\n  description?: string\n  variant: FilterVariant\n  placeholder?: string\n\n  // For select/multi-select\n  options?: Array<{ label: string; value: string | number }>\n\n  // For custom filters\n  component?: React.ComponentType<FilterComponentProps>\n\n  // Behavior\n  debounceMs?: number\n  caseSensitive?: boolean\n}\n\nexport type FilterValue =\n  | string\n  | number\n  | (number | string | undefined)[]\n  | DateRange\n  | boolean\n  | undefined\n\nexport interface FilterComponentProps {\n  config: FilterConfig\n  value: FilterValue\n  onChange: (value: FilterValue) => void\n  onClear: () => void\n}\n\n// Active filter representation\nexport interface ActiveFilter {\n  columnId: string\n  columnLabel: string\n  value: FilterValue\n  displayValue: string\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/config/locale.ts",
      "content": "import { type DataTableLocale } from '../types/locale'\n\nexport const defaultDataTableLocale: DataTableLocale = {\n  body: {\n    noResults: 'No results',\n  },\n  pagination: {\n    rowsSelected: 'row(s) selected.',\n    rowsPerPage: 'Rows per page',\n    page: 'Page',\n    of: 'of',\n    goToFirstPage: 'Go to first page',\n    goToPreviousPage: 'Go to previous page',\n    goToNextPage: 'Go to next page',\n    goToLastPage: 'Go to last page',\n  },\n  toolbar: {\n    searchPlaceholder: 'Search...',\n  },\n  viewOptions: {\n    view: 'View',\n    toggleColumns: 'Toggle columns',\n  },\n  rowSelection: {\n    selectAll: 'Select all',\n    selectRow: 'Select row',\n  },\n  columnHeader: {\n    sortAscending: 'Sort ascending',\n    sortDescending: 'Sort descending',\n    clearSorting: 'Clear sorting',\n    hideColumn: 'Hide column',\n    clearFilter: 'Clear filter',\n    sortMenuLabel: 'Toggle sort options',\n    filterMenuLabel: 'Toggle filter options',\n  },\n  filters: {\n    multiSelect: {\n      search: 'Search...',\n      noResults: 'No results found.',\n    },\n    numberRange: {\n      min: 'Min',\n      max: 'Max',\n    },\n  },\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/contexts/data-table-locale-context.tsx",
      "content": "'use client'\n\nimport { createContext, useContext } from 'react'\n\nimport { defaultDataTableLocale } from '../config/locale'\nimport { type DataTableLocale } from '../types/locale'\n\ninterface DataTableLocaleContextValue {\n  locale: DataTableLocale\n}\n\nconst DataTableLocaleContext = createContext<DataTableLocaleContextValue | null>(null)\n\ninterface DataTableLocaleProviderProps {\n  children: React.ReactNode\n  locale: DataTableLocale\n}\n\nexport function DataTableLocaleProvider({\n  children,\n  locale,\n}: DataTableLocaleProviderProps) {\n  return (\n    <DataTableLocaleContext.Provider value={{ locale }}>\n      {children}\n    </DataTableLocaleContext.Provider>\n  )\n}\n\nexport function useDataTableLocale(): DataTableLocale {\n  const context = useContext(DataTableLocaleContext)\n  if (!context) {\n    return defaultDataTableLocale\n  }\n  return context.locale\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/utils/debounce.ts",
      "content": "/**\n * Debounce function\n * Example usage:\n * import { debounce } from '@/lib/utils/debounce'\n *\n * const debouncedOnChange = useMemo(\n *   () => debounce((val: string) => onChange(val || undefined), debounceMs),\n *   [onChange, debounceMs]\n * )\n */\nexport function debounce<F extends (...args: Parameters<F>) => ReturnType<F>>(\n  func: F,\n  waitFor: number = 300,\n): ((...args: Parameters<F>) => void) & { cancel: () => void } {\n  let timeout: ReturnType<typeof setTimeout>\n\n  const debounced = (...args: Parameters<F>): void => {\n    clearTimeout(timeout)\n    timeout = setTimeout(() => func(...args), waitFor)\n  }\n\n  debounced.cancel = () => {\n    if (timeout) clearTimeout(timeout)\n  }\n\n  return debounced\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/components/shadcntable/hooks/use-shadcn-table.tsx",
      "content": "import {\n  type ColumnDef,\n  type ColumnFiltersState,\n  type RowSelectionState,\n  type SortingState,\n  type TableState,\n  type VisibilityState,\n  getCoreRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  getSortedRowModel,\n  useReactTable,\n} from '@tanstack/react-table'\nimport { useEffect, useState } from 'react'\n\nimport { type DataTablePaginationConfig } from '../data-table-pagination'\nimport { type DataTableRowSelectionConfig } from '../data-table-row-selection'\n\ninterface UseDataTableProps<TData, TValue> {\n  data: TData[]\n  columns: ColumnDef<TData, TValue>[]\n  initialState?: TableState\n  pageSize?: DataTablePaginationConfig['pageSize']\n  rowSelectionConfig?: DataTableRowSelectionConfig<TData>\n}\n\nexport function useShadcnTable<TData, TValue>({\n  data,\n  columns,\n  initialState,\n  pageSize = 10,\n  rowSelectionConfig,\n}: UseDataTableProps<TData, TValue>) {\n  'use no memo'\n  const [pagination, setPagination] = useState({\n    pageIndex: 0,\n    pageSize,\n  })\n  const [sorting, setSorting] = useState<SortingState>([])\n  const [columnFilters, setColumnFilters] = useState<ColumnFiltersState>([])\n  const [columnVisibility, setColumnVisibility] = useState<VisibilityState>({})\n  const [rowSelection, setRowSelection] = useState<RowSelectionState>({})\n  const [globalFilter, setGlobalFilter] = useState<string>('')\n\n  /* eslint-disable-next-line react-hooks/incompatible-library */\n  const table = useReactTable({\n    data,\n    columns,\n    enableRowSelection: rowSelectionConfig?.enableRowSelection ?? true,\n    getCoreRowModel: getCoreRowModel(),\n    getPaginationRowModel: getPaginationRowModel(),\n    initialState,\n    onPaginationChange: setPagination,\n    onSortingChange: setSorting,\n    getSortedRowModel: getSortedRowModel(),\n    onColumnFiltersChange: setColumnFilters,\n    getFilteredRowModel: getFilteredRowModel(),\n    onColumnVisibilityChange: setColumnVisibility,\n    onRowSelectionChange: setRowSelection,\n    onGlobalFilterChange: setGlobalFilter,\n    state: {\n      pagination,\n      sorting,\n      columnFilters,\n      columnVisibility,\n      rowSelection,\n      globalFilter,\n    },\n  })\n\n  useEffect(() => {\n    if (rowSelectionConfig?.onRowSelectionChange) {\n      const selectedRows = table.getSelectedRowModel().rows.map((row) => row.original)\n      rowSelectionConfig?.onRowSelectionChange?.(selectedRows)\n    }\n  }, [rowSelection, rowSelectionConfig, table])\n\n  return table\n}\n",
      "type": "registry:component"
    }
  ]
}
